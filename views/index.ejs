<%- include('layout', { body: `
<div class="max-w-6xl mx-auto">

  <!-- Welcome Section -->
  <div class="mb-8" data-aos="fade-up">
    <h1 class="text-4xl font-bold text-slate-900">
      Hey <%= currentUser ? currentUser.username : "Guest" %> ğŸ‘‹
    </h1>
    <p class="text-slate-600 mt-1">
      Welcome to ColorForum â€” your place to discuss, learn, and explore ideas!
    </p>
  </div>

  <!-- Quick Stats -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition" data-aos="fade-up">
      <h3 class="text-sm text-slate-500">Total Categories</h3>
      <p class="text-4xl font-extrabold text-accent-1 mt-2"><%= stats?.categories || 0 %></p>
      <a href="/categories" class="text-sm text-accent-3 mt-2 inline-block">View Categories â†’</a>
    </div>

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition" data-aos="fade-up" data-aos-delay="100">
      <h3 class="text-sm text-slate-500">Total Threads</h3>
      <p class="text-4xl font-extrabold text-accent-1 mt-2"><%= stats?.threads || 0 %></p>
      <a href="/threads" class="text-sm text-accent-3 mt-2 inline-block">View Threads â†’</a>
    </div>

    <div class="bg-white p-6 rounded-xl shadow hover:shadow-lg transition" data-aos="fade-up" data-aos-delay="200">
      <h3 class="text-sm text-slate-500">Your Activity</h3>
      <p class="text-2xl font-bold text-accent-3 mt-2"><%= stats?.yourThreads || 0 %> threads</p>
      <p class="text-slate-500 text-sm"><%= stats?.yourComments || 0 %> comments</p>
      <a href="/profile" class="text-sm text-accent-1 mt-2 inline-block">View Profile â†’</a>
    </div>

  </div>

  <!-- Trending + Recent -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

    <!-- Trending Threads -->
    <section class="bg-white p-6 rounded-xl shadow" data-aos="fade-up">
      <h2 class="text-xl font-semibold mb-3">ğŸ”¥ Trending Threads</h2>

      <% if (trending && trending.length > 0) { %>
        <ul class="space-y-3">
          <% trending.forEach(t => { %>
            <li class="p-3 border rounded shadow-sm hover:shadow transition">
              <a href="/threads/<%= t._id %>" class="text-lg font-semibold text-accent-1 hover:underline">
                <%= t.title %>
              </a>
              <div class="text-xs text-slate-500 mt-1">
                â­ Votes: <%= t.votes || 0 %> â€¢ 
                <%= new Date(t.createdAt).toLocaleString() %>
              </div>
            </li>
          <% }) %>
        </ul>
      <% } else { %>
        <p class="text-slate-500">No trending threads yet.</p>
      <% } %>
    </section>

    <!-- Recent Threads -->
    <section class="bg-white p-6 rounded-xl shadow" data-aos="fade-up">
      <h2 class="text-xl font-semibold mb-3">ğŸ†• Recent Threads</h2>

      <% if (recent && recent.length > 0) { %>
        <ul class="space-y-3">
          <% recent.forEach(t => { %>
            <li class="p-3 border rounded shadow-sm hover:shadow transition">
              <a href="/threads/<%= t._id %>" class="font-semibold hover:underline text-accent-3">
                <%= t.title %>
              </a>
              <div class="text-xs text-slate-500 mt-1">
                by <%= t.author?.username || 'Anonymous' %> â€¢ 
                <%= new Date(t.createdAt).toLocaleString() %>
              </div>
            </li>
          <% }) %>
        </ul>
      <% } else { %>
        <p class="text-slate-500">No recent threads yet.</p>
      <% } %>

    </section>

  </div>

</div>
` }) %>
